<UserControl
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:local="clr-namespace:MangaCheckerV3.Views"
	xmlns:viewModel="clr-namespace:MangaCheckerV3.ViewModels"
	xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
	xmlns:Converters="clr-namespace:MaterialDesignThemes.Wpf.Converters;assembly=MaterialDesignThemes.Wpf"
	xmlns:Controls="http://metro.mahapps.com/winfx/xaml/controls"
	x:Class="MangaCheckerV3.Views.MangaListView"
	mc:Ignorable="d"
	d:DesignHeight="300" d:DesignWidth="500"
	d:DataContext="{d:DesignInstance {x:Type viewModel:MangaListViewModel}, IsDesignTimeCreatable=False}">
	<UserControl.Resources>
		<Converters:NullableToVisibilityConverter x:Key="NullableToVisibilityConverter" />
	</UserControl.Resources>
	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*" />
			<RowDefinition Height="Auto" />
		</Grid.RowDefinitions>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="Auto"/>
			<ColumnDefinition Width="*"/>
		</Grid.ColumnDefinitions>
		<ListBox ItemsSource="{Binding Sites}" Background="{DynamicResource PrimaryHueMidBrush}" Grid.RowSpan="2" SelectedItem="{Binding SelectedSite}"
				 Foreground="{Binding TitleForeground, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Controls:MetroWindow}}}">
			<ListBox.ItemTemplate>
				<DataTemplate>
					<TextBlock Text="{Binding Name}"></TextBlock>
				</DataTemplate>
			</ListBox.ItemTemplate>
		</ListBox>
		<Grid Grid.Row="0" Grid.Column="1" Height="30" Margin="10,0" Visibility="{Binding SelectedSite, Converter={StaticResource NullableToVisibilityConverter}}">
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="Auto"/>
				<ColumnDefinition Width="*"/>
				<ColumnDefinition Width="Auto"/>
			</Grid.ColumnDefinitions>
			<TextBlock VerticalAlignment="Center">
				<Run Text="Author: "></Run>
				<Run Text="{Binding SelectedSite.Author, Mode=OneWay}"></Run>
			</TextBlock>
			<TextBlock Grid.Column="1" VerticalAlignment="Center" Margin="10,0">
				<Run Text="Description: "></Run>
				<Run Text="{Binding SelectedSite.Description, Mode=OneWay}"></Run>
			</TextBlock>
			<TextBlock Grid.Column="2" VerticalAlignment="Center">
				<Run Text="Version: "></Run>
				<Run Text="{Binding SelectedSite.Version, Mode=OneWay}"></Run>
			</TextBlock>
		</Grid>
		<ContentControl Grid.Row="1" Grid.Column="1" Content="{Binding SelectedSite.View}"></ContentControl>
		<materialDesign:ColorZone Grid.Row="2" Grid.Column="1" Mode="PrimaryDark"
								Visibility="{Binding SelectedManga, Converter={StaticResource NullableToVisibilityConverter}}">
			<Grid Margin="5">
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="Auto" />
					<ColumnDefinition Width="Auto" />
					<ColumnDefinition Width="Auto" />
					<ColumnDefinition Width="Auto" />
					<ColumnDefinition Width="Auto" />
					<ColumnDefinition Width="Auto" />
					<ColumnDefinition Width="*" />
					<ColumnDefinition Width="Auto" />
				</Grid.ColumnDefinitions>
				<Button Grid.Column="0" Height="28" Margin="3,0" ToolTip="Open site" Command="{Binding OpenMangaCommand}">
					<materialDesign:PackIcon Kind="ArrowTopRight" />
				</Button>
				<Button Grid.Column="1" Height="28" Margin="3,0" Command="{Binding ViewerCommand}" >Viewer</Button>
				<Button Grid.Column="2" Height="28" Margin="3,0" Command="{Binding RefreshCommand}" >Refresh</Button>
				<Button Grid.Column="3" Height="28" Margin="3,0" Command="{Binding IncreaseCommand}">
					<materialDesign:PackIcon Kind="Plus" />
				</Button>
				<Button Grid.Column="4" Height="28" Margin="3,0" Command="{Binding DecreaseCommand}">
					<materialDesign:PackIcon Kind="Minus" />
				</Button>
				<Button Grid.Column="5" Height="28" Margin="3,0" Command="{Binding DeleteCommand}">Delete</Button>
					<TextBlock Grid.Column="6" Text="{Binding SelectedManga.Name}" Margin="3,0" VerticalAlignment="Center" />
				<Button Grid.Column="7" Height="28" Margin="3,0" Command="{Binding DeselectCommand}"
						Background="Transparent" BorderThickness="0" Width="30" Padding="2" HorizontalAlignment="Right">
					<materialDesign:PackIcon Kind="Close"/>
				</Button>
			</Grid>
		</materialDesign:ColorZone>
	</Grid>
</UserControl>